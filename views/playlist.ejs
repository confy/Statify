<section class="section-container text-center">
    <% if (playlistInfo.images.length >= 2) { %>
        <img src="<%=playlistInfo.images[1].url %>" alt="..." class="img-thumbnail">
    <% } else { %>
        <img src="<%=playlistInfo.images[0].url %>" alt="..." class="img-thumbnail">
    <% } %>
    <h1 class="jumbotron-heading">
        <%= playlistInfo.name %>
    </h1>
    <h2 class ="text-muted">by <%= playlistInfo.owner.display_name %></h2>
</section>
<div class="container">    
    <ul class="list-group">
        <li class="list-container">
            <h5>Playlist Averages</h5>
        </li>
        <li class="list-container">
            <p class="lead">Danceability</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: <%= summary.danceability * 100 %>%;"
                    aria-valuenow="<%= summary.danceability * 100 %>" aria-valuemin="0" aria-valuemax="100">
                    <%=summary.danceability %>
                </div>
            </div>
        </li>
        <li class="list-container">
            <p class="lead">Energy</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: <%= summary.energy * 100 %>%;"
                    aria-valuenow="<%= summary.energy * 100 %>" aria-valuemin="0" aria-valuemax="100">
                    <%=summary.energy %>
                </div>
            </div>
        </li>
        <li class="list-container">
            <p class="lead">Speechiness</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: <%= summary.speechiness * 100 %>%;"
                    aria-valuenow="<%= summary.speechiness * 100 %>" aria-valuemin="0" aria-valuemax="100">
                    <%=summary.speechiness %>
                </div>
            </div>
        </li>
        <li class="list-container">
            <p class="lead">Acousticness</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: <%= summary.acousticness * 100 %>%;"
                    aria-valuenow="<%= summary.acousticness * 100 %>" aria-valuemin="0" aria-valuemax="100">
                    <%=summary.acousticness %>
                </div>
            </div>
        </li>
        <li class="list-container">
            <p class="lead">Instrumentalness</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: <%= summary.instrumentalness * 100 %>%;"
                    aria-valuenow="<%= summary.instrumentalness * 100 %>" aria-valuemin="0" aria-valuemax="100">
                    <%=summary.instrumentalness %>
                </div>
            </div>
        </li>
        <li class="list-container">
            <p class="lead">Liveness</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: <%= summary.liveness * 100 %>%;"
                    aria-valuenow="<%= summary.liveness * 100 %>" aria-valuemin="0" aria-valuemax="100">
                    <%=summary.liveness %>
                </div>
            </div>
        </li>
        <li class="list-container">
            <p class="lead">Valence</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: <%= summary.valence * 100 %>%;"
                    aria-valuenow="<%= summary.valence * 100 %>" aria-valuemin="0" aria-valuemax="100">
                    <%=summary.valence %>
                </div>
            </div>
        </li>
    </ul>
    <br>
    <div class="card-body">
        <table class="table table-light" id="artistTopTracks">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Track Name</th>
                    <th>Artist</th>
                    <th>Album</th>
                    <th>Popularity</th>
                    <th>Link</th>

                </tr>
            </thead>
            <tbody>
                <% Object.entries(playlist).forEach((track)=> { %>
                    <tr>
                        <td>
                            <%= Number(track[0]) + 1 %>
                        </td>
                        <td>
                            <a href="/track/<%= track[1].id %>">
                                <%= track[1].name %>
                            </a>
                        </td>
                        <td>
                            <a href="/artist/<%= track[1].artists[0].id %>">
                                <%= track[1].artists[0].name %>
                            </a>
                            
                        </td>
                        <td>                            
                            <a href="/album/<%= track[1].album.id %>">
                                <%= track[1].album.name %>
                            </a>
                        </td>
                        <td>
                            <%= track[1].popularity %>
                        </td>
                        <td><a href="<%= track[1].external_urls.spotify %>">Link</a></td>
                    </tr>
                    <%})%>

            </tbody>
        </table>
    </div>

</div>